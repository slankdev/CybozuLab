
# 成果報告発表の資料

サイボウズラボユース5th成果報告会の発表資料作成のためのメモ。

# Agenda
  - What is LibPGEN
    ここでは簡単に説明をする
	- パケット解析のあらゆることを頑張るライブラリ
	- Linux/BSD C++11

  - LibPGENの設計
    - 大きく分けて三つの構成になってます
		- パケット解析部分
		- パケットの入出力操作部分
		- その他モジュール	

  - LibPGENの簡単な使い方
  	- パケット操作全般
		- パケット作成
		  ゼロからフルスクラッチでパケットを作成して遊ぶことができることを
		  説明する。お決まりのARPパケットで遊ぶぜ
		  
		- パケット解析
		  受信したパケットを解析して情報を表示したりその都度指定の操作をする
		  プログラムが簡単にかけることを説明する。

		- 既存のパケットを変更
		  IPヘッダにオプションを追加したい時とか。
		  編集後にパケットの長さが変更されてしまうような場合でも
		  うまくやってくれることを説明する。

	- 送受信インターフェースの説明
		- NetIFやpcap, pcapngファイルに対してのデータの送受信が簡単に
		  できることを説明する。pcapngファイルに対応したソフトウェアが少ないことや
		  BSDとLinuxでNetIFの実装が違くて面白い所とかを熱弁。

  - LibPGENの拡張生
	- Wiresharkのように新たなプロトコルに対して拡張しやすい

  - 実際の使用例
    - 通常のパケット解析 (DEMO1)
	  ARPのパケットのみをキャプチャしてなんか変なことをしている人を特定する
	  プログラムを作って遊ぶ話をする

	- 新たなプロトコルに関するパケット解析 (DEMO2)
	  簡単なプロトコルを定義してその通信を解析できるようにLibPGENを拡張して
	  遊ぶ。wiresharkのdissectorと比較しながら。長所短所なども説明していく。

  - 今後の展開
  	- 高速にパケットを送受信する方法(IntelDPDK)
	- 単発パケット操作以外もサポートしたい
	  パケット解析はそのままで、ある一定の通信のみに着眼して
	  使いやすくする方法を追加
	  (例としてTCPのストリームの観察)
	- 他のOSもサポート (Winでも使えるようにしたい。。)

  - 2ヶ月間がっつり開発をして学んだこと
    - 光成さんのコードレビューは神. 鬼軍曹(https://twitter.com/herumi/status/685261730662907905)
	- 今までの効率の悪さを痛感
		- [今まで] とりあえずコード書く->直す->直す..->最終テスト->完成
		- [今は]   要件仕様を考える -> ヘッダ作成 -> チェック -> 実装 -> 最終テスト -> 完成
	- 日本語情報ではパケット解析に関するソフトウェアの有益な情報なし
		- 英語ならたくさんあるよ (泣きそう)
		- 英語ができればもっと楽しい
	- たくさんの方の助け(connection)に助けられて今の僕がいる
	- ストレスフリーな環境が良かった
		- ちょうどいい室温
		- 良きディスプレイ
		- 来年度はコップとか歯ブラシとか常備してもっと重装備仕様。。(笑)


