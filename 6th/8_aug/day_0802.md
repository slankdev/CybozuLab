

[サイボウズ・ラボユース日時報告書]
---------------------------------------------------------------------------
勤務日：2016年 8月02日火曜日
報告者：城倉弘樹
---------------------------------------------------------------------------
### 開発プロジェクト名
 slankdev/stcp.git


### 今日の目標

 - bsdの本から以下をまとめる (3.0h) -> markdownでまとめる 
      - 12.3 プロトコル間
      - 12.4 プロトコルとインターフェース
      - 12.8.2 ARPに関して
 - arpプロトコルモジュールの実装 (3.0h)


### 作業実績 (実際にかかった時間を書いてください)

 - 10:00-13:00 bsdの本から勉強と要約、各モジュール設計
 - 13:00-14:00 昼休み
 - 14:00-16:00 実装 -> ある程度できたが、ARPの処理を行う部分はまだ
 - 16:00-17:00 切りがよかったので、次回予定だったコード整理



### 達成度

80%

 - ARPのモジュールの参照はネットワーク層のモジュールから行なっているとずっと思っていたが、
   ネットワークインタフェース層のプロトコルモジュールが行なっていた。
 - 本を読んで、ある程度頭を整理してからBSDのソースを見るといままでよりだいぶ見やすく感じた。
   関数のインタフェースなども理解してきたからかもしれない。
 - #pragma once を #pragma oneceとタイポしてて15分くらい迷った。。。
 - IPモジュールの実装に到達するとまたそれについてたくさん本を読んだりする必要がでてくるので、
   そこまでは早めに終わらせたい。



### 問題点,原因,対策 (それぞれ1,2,3で分けて書く)

 - 得になし。本日も良好な進捗。



### 明日以降の予定
 
 - 実装部分の確認 -> コード整理
 - ARP処理の実装
 - ネットワークデバイスとプロトコルモジュールを一般化できそうなので、まとめる
   以下のような共通点があるので
     - tx, rxの２つのパケットキューをもつ
	 - パケットキューに対して安全なアクセスが行われるように保証(できるようにしたい)
 - 自分であらかじめ決めたメモとだいぶ違う実装になったので、うまく帳尻を合わせる。 
   (ドキュメントと実装をうまく修正する。)





### 作業リポジトリ履歴


BSDの実装に関する自分のメモ
 - http://wiki.slankdev.net/#!memorandum/bsd.md


STCPの設計に関するメモ
 - http://wiki.slankdev.net/#!memorandum/stcp.md


slankdev/stcp.git
 - [MODIFY] stcp class
    http://github.com/slankdev/src/commit/4236376af7ef8a0d37d4becdf528d38d6620d0ae

何度かのコミットに分けるべきだったのですが、すべての作業が同時進行で進んだので
一回のコミットにまとまってしまいました。


---------------------------------------------------------------------------
