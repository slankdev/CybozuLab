

## May 11 (Wed) 2016

### 今日の予定

 - DPDKアプリケーションをいくつか使ってみる (2.0h)
 - DPDKのAPIについての情報収集、まとめ　(5.0h)


今回、次回までにとりあえずパケットを送受信する方法をまとめたい。
最初の方はNICの情報取得とかになりそう。


 - 昨日の残作業　
	 - ``write: write comletion faildInvalid argument``のエラーメッセージを調べる
 

### 今日やった内容

 - DPDKアプリケーションをいくつか使ってみる (3.0h)
	 - skeletonによるバカハブ実験をした
	   http://dpdk.org/doc/guides/sample_app_ug/skeleton.html
	 - ethtoolでNIC情報の取得について調べた
	   http://dpdk.org/doc/guides/sample_app_ug/ethtool.html
 - DPDKのAPIについての情報収集、まとめ　(4.0h)
	 - NICの情報取得方法
	 - パケット操作の内部構造、メモリ管理や使い方など


 - ``write: write comletion faildInvalid argument``のエラーメッセージを調べる
   原因不明だったから、vmのosを変えたらうまく言った。もしかしたらPF_PACKETから
   変なパケットが出せないように設定されていたのかもしれない。




### 次回の予定

 - パケット送受信の確認作業
 - DPDKアプリケーション開発についてまとめる




### 問題点,原因,対策 (それぞれ1,2,3で分けて書く)


 1. 実験環境の構築、準備などが面倒くさい
 2. 仕方ないものなのだが、、、
 3. DPDK環境が整ったVagrant Boxを作っておく。
    実験用VMも普段の環境に合わせたものを作っておく。
	このへんは環境構築を自動化するツールを使った方が
	いいかもしれない。Chefとか聞いたことある。。

 1. さすがに7時間連続は難しかった。
 2. 休憩をはさまなかったこと
 3. 今度こんな感じになるときはさすがに30分は休憩する





### 感想 (あれば)

ずいぶん時間がかかってしまったが、DPDKがだいぶ使いやすいことがやっと分かってきた。
ドキュメントも充実してるし、APIとかにも簡単にすぐアクセスできて便利。。
次回までにとりあえず一通り使えるようにまとめたい。





### Commits

サンプルコード
https://github.com/slankdev/dpdk/commit/d92e1ff87d56713b603cfc17b1fc5363696fd285

